{"version":3,"file":"js/dashboard.5aaff760.js","mappings":"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","sources":["webpack://opengauss/./src/views/configurationCenter.vue","webpack://opengauss/./src/views/configurationCenter.vue?3214"],"sourcesContent":[" <!-- * Copyright (c) 2020 Huawei Technologies Co.,Ltd.\n *\n * openGauss is licensed under Mulan PSL v2.\n * You can use this software according to the terms and conditions of the Mulan PSL v2.\n * You may obtain a copy of Mulan PSL v2 at:\n *\n *          http://license.coscl.org.cn/MulanPSL2\n *\n * THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND,\n * EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,\n * MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n * See the Mulan PSL v2 for more details. -->\n<template>\n<div class=\"wrap\">\n    <section id=\"right\">\n        <el-tabs v-model='activeName'>\n            <el-tab-pane label='openGauss' name='first' style=\"font-size:16px;\">\n                <el-card shadow=\"never\">\n                    <el-row class=\"rowColor\">\n                        <el-col :span=\"1\" style=\"text-align: center;padding-top: 16px;\">\n                            <el-icon style=\"font-size:20px\"><WarningFilled /></el-icon>\n                        </el-col>\n                        <el-col :span=\"23\" style=\"font-size: 14px;\">\n                            <p class=\"tipck\">实例名称：被监控源端数据库的实例别名，建议按业务规则命名</p>\n                            <p class=\"tipck\">主机地址：被监控源端数据库的主机IP地址</p>\n                            <p class=\"tipck\">主机端口：被监控源端数据库的主机端口</p>\n                            <p class=\"tipck\">只读用户：被监控源端数据库的用户，对监控对象具有只读权限</p>\n                            <p class=\"tipck\">登录密码：被监控源端数据库的密码</p>\n                            <p class=\"tipck\" style=\"font-style:italic;\">注：需要提前将本服务部署地址加入到openGauss的pg_hba.conf中进行客户端接入认证</p>\n                        </el-col>\n                    </el-row>\n                </el-card>\n                <el-row style=\"margin-top: 24px;\">\n                    <el-col :span=\"10\" style=\"height: 100%;\">\n                        <el-form :model=\"ruleForm\" :label-position=\"'left'\" :rules=\"rules\" ref=\"openForm\" label-width=\"90px\" class=\"demo-ruleForm \"\n                        style=\"margin: 0px 24px 0px 0px;\">\n                            <el-form-item label=\"实例名称\" prop=\"connectName\">\n                                <el-input v-model=\"ruleForm.connectName\" placeholder=\"示例：business_master\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"主机地址\" prop=\"ip\">\n                                <el-input v-model=\"ruleForm.ip\" placeholder=\"示例：192.168.0.10\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"主机端口\" prop=\"port\">\n                                <el-input v-model=\"ruleForm.port\" placeholder=\"示例：5432\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"只读用户\" prop=\"userName\">\n                                <el-input v-model=\"ruleForm.userName\" placeholder=\"示例：zabbix_readonly\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"登录密码\" prop=\"password\">\n                                <el-input type=\"password\" v-model=\"ruleForm.password\" placeholder=\"示例：d(*dS1\"></el-input>\n                            </el-form-item>\n                        </el-form>\n                    </el-col>\n                    <el-col :span=\"24\">\n                        <div style=\"text-align: center;padding: 5vh 0px 32px 0px;\">\n                            <el-button size=\"large\" type=\"primary\" @click=\"submitForm('openForm')\">保存配置</el-button>\n                            <el-button size=\"large\" class=\"buttonColor\" @click=\"resetForm('openForm')\">重置数据</el-button>\n                        </div>\n                    </el-col>\n                </el-row>\n            </el-tab-pane>\n            <el-tab-pane label='Zabbix' name='second' style=\"font-size:16px;\">\n                <el-card shadow=\"never\">\n                    <el-row class=\"rowColor\">\n                        <el-col :span=\"1\" style=\"text-align: center;padding-top: 16px;\">\n                            <el-icon style=\"font-size:20px\"><WarningFilled /></el-icon>\n                        </el-col>\n                        <el-col :span=\"23\" style=\"font-size: 14px;\">\n                            <p class=\"tipck\">实例名称：zabbix监控平台元数据库实例名</p>\n                            <p class=\"tipck\">主机地址：zabbix监控平台元数据库主机IP地址</p>\n                            <p class=\"tipck\">主机端口：zabbix监控平台元数据库主机端口</p>\n                            <p class=\"tipck\">数据库名：zabbix监控平台元数据库数据库库名</p>\n                            <p class=\"tipck\">读写用户：zabbix监控平台元数据库用户，具有读写权限</p>\n                            <p class=\"tipck\">登录密码：zabbix监控平台元数据库密码</p>\n                        </el-col>\n                    </el-row>\n                </el-card>\n                <el-row style=\"margin-top: 24px;\">\n                    <el-col :span=\"10\" style=\"height: 100%;\">\n                        <el-form :model=\"zabbixRuleForm\" :label-position=\"'left'\" :rules=\"rules\" ref=\"zabbixForm\" label-width=\"90px\" class=\"demo-ruleForm \"\n                        style=\"margin: 0px 24px 0px 0px;\">\n                            <el-form-item label=\"实例名称\" prop=\"connectName\">\n                                <el-input v-model=\"zabbixRuleForm.connectName\" placeholder=\"示例：business_master\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"主机地址\" prop=\"ip\">\n                                <el-input v-model=\"zabbixRuleForm.ip\" placeholder=\"示例：192.168.0.10\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"主机端口\" prop=\"port\">\n                                <el-input v-model=\"zabbixRuleForm.port\" placeholder=\"示例：5432\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"数据库名\" prop=\"dataBaseName\">\n                                <el-input v-model=\"zabbixRuleForm.dataBaseName\" placeholder=\"示例：zabbix\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"读写用户\" prop=\"userName\">\n                                <el-input v-model=\"zabbixRuleForm.userName\" placeholder=\"示例：zabbix_readonly\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"登录密码\" prop=\"password\">\n                                <el-input type=\"password\" v-model=\"zabbixRuleForm.password\" placeholder=\"示例：d(*dS1\"></el-input>\n                            </el-form-item>\n                        </el-form>\n                    </el-col>\n                    <el-col :span=\"24\">\n                        <div style=\"text-align: center;padding: 5vh 0px 32px 0px;\">\n                            <el-button size=\"large\" type=\"primary\" @click=\"submitForm('zabbixForm')\">保存配置</el-button>\n                            <el-button size=\"large\" class=\"buttonColor\" @click=\"resetForm('zabbixForm')\">重置数据</el-button>\n                        </div>\n                    </el-col>\n                </el-row>\n            </el-tab-pane>\n            <el-tab-pane label='Nagios' name='three' style=\"font-size:16px;\">\n                <el-card shadow=\"never\">\n                    <el-row class=\"rowColor\">\n                        <el-col :span=\"1\" style=\"text-align: center;padding-top: 16px;\">\n                            <el-icon style=\"font-size:20px\"><WarningFilled /></el-icon>\n                        </el-col>\n                        <el-col :span=\"23\" style=\"font-size: 14px;\">\n                            <el-row class=\"rowColor\">\n                                <el-col :span=\"12\">\n                                    <p class=\"tipck\">服务端地址：nagios监控平台服务端数据库主机IP地址</p>\n                                    <p class=\"tipck\">服务端用户名：nagios监控平台服务端数据库用户，具有读写权限</p>\n                                    <p class=\"tipck\">服务端密码：nagios监控平台服务端数据库密码</p>\n                                    <p class=\"tipck\">服务端路径：nagios监控平台服务端安装路径</p>\n                                </el-col>\n                                <el-col :span=\"12\">\n                                    <p class=\"tipck\">客户端地址：nagios监控平台客户端数据库主机IP地址</p>\n                                    <p class=\"tipck\">客户端用户名：nagios监控平台客户端数据库用户，具有读写权限</p>\n                                    <p class=\"tipck\">客户端密码：nagios监控平台客户端数据库密码</p>\n                                    <p class=\"tipck\">客户端路径：nagios监控平台客户端安装路径</p>\n                                </el-col>\n                            </el-row>\n                        </el-col>\n                    </el-row>\n                </el-card>\n                <el-row style=\"margin-top: 24px;\">\n                    <el-col :span=\"24\" style=\"height: 100%;\">\n                        <el-form :model=\"nagiosRuleForm\" :label-position=\"'left'\" :rules=\"rules\" ref=\"nagiosForm\" label-width=\"110px\" class=\"demo-ruleForm \">\n                            <div class=\"parent\">\n                                <div class=\"left\">\n                                    <el-form-item label=\"服务端地址\" prop=\"serverIp\">\n                                        <el-input v-model=\"nagiosRuleForm.serverIp\" placeholder=\"示例：192.168.0.10\"></el-input>\n                                    </el-form-item>\n                                    <el-form-item label=\"服务端用户名\" prop=\"serverName\">\n                                        <el-input v-model=\"nagiosRuleForm.serverName\" placeholder=\"示例：nagios_readonly\"></el-input>\n                                    </el-form-item>\n                                    <el-form-item label=\"服务端密码\" prop=\"serverPassword\">\n                                        <el-input type=\"password\" v-model=\"nagiosRuleForm.serverPassword\" placeholder=\"示例：d(*dS1\"></el-input>\n                                    </el-form-item>\n                                    <el-form-item label=\"服务端路径\" prop=\"serverPath\">\n                                        <el-input v-model=\"nagiosRuleForm.serverPath\" placeholder=\"示例：/usr/local/nagios\"></el-input>\n                                    </el-form-item>\n                                </div>\n                                <div class=\"right\">\n                                    <el-form-item label=\"客户端地址\" prop=\"clientIp\">\n                                        <el-input v-model=\"nagiosRuleForm.clientIp\" placeholder=\"示例：192.168.0.10\"></el-input>\n                                    </el-form-item>\n                                    <el-form-item label=\"客户端用户名\" prop=\"clientName\">\n                                        <el-input v-model=\"nagiosRuleForm.clientName\" placeholder=\"示例：nagios_readonly\"></el-input>\n                                    </el-form-item>\n                                    <el-form-item label=\"客户端密码\" prop=\"clientPassword\">\n                                        <el-input type=\"password\" v-model=\"nagiosRuleForm.clientPassword\" placeholder=\"示例：d(*dS1\"></el-input>\n                                    </el-form-item>\n                                    <el-form-item label=\"客户端路径\" prop=\"clientPath\">\n                                        <el-input v-model=\"nagiosRuleForm.clientPath\" placeholder=\"示例：/usr/local/nagios\"></el-input>\n                                    </el-form-item>\n                                </div>\n                            </div>\n                        </el-form>\n                    </el-col>\n                    <el-col :span=\"24\">\n                        <div style=\"text-align: center;padding: 10vh 0px 32px 0px;\">\n                            <el-button size=\"large\" type=\"primary\" @click=\"submitForm('nagiosForm')\">保存配置</el-button>\n                            <el-button size=\"large\" class=\"buttonColor\" @click=\"resetForm('nagiosForm')\">重置数据</el-button>\n                        </div>\n                    </el-col>\n                </el-row>\n            </el-tab-pane>\n        </el-tabs>\n    </section>\n</div>\n</template>\n<script setup>\n    import { WarningFilled } from '@element-plus/icons-vue'\n    import { watch,ref,reactive,onMounted,getCurrentInstance} from 'vue'\n    import { ElMessage } from \"element-plus\";\n    import { useRouter } from 'vue-router'\n            const router = useRouter();\n            const { proxy } = getCurrentInstance();\n            let activeName = ref(localStorage.getItem(\"activeName\")?localStorage.getItem(\"activeName\"):\"first\");\n            const openForm = ref(null);\n            const zabbixForm = ref(null);\n            const nagiosForm = ref(null);\n            let ruleForm = reactive({\n                    connectName:'',\n                    userName:'',\n                    password:'',\n                    port:'',\n                    ip:'',\n                    platform:'Prometheus'\n            });\n            let zabbixRuleForm = reactive({\n                    containerIp:'',\n                    containerPort:'',\n                    connectName:'',\n                    userName:'',\n                    password:'',\n                    port:'',\n                    ip:'',\n                    dataBaseName:'',\n                    platform:'Zabbix'\n            });\n            let nagiosRuleForm = reactive({\n                    serverIp:'',\n                    serverName:'',\n                    serverPassword:'',\n                    serverPath:'',\n                    clientIp:'',\n                    clientName:'',\n                    clientPassword:'',\n                    clientPath:'',\n                    platform:'Nagios'\n            });\n            const rules = reactive({\n                    connectName:[\n                        { required: true, message: '请输入实例名称', trigger: 'blur' },\n                        { pattern: /^[0-9A-Za-z_]{2,16}$/g, message: '连接名称只支持英文、下划线、数字组合2-16个字符' }],\n                    userName:[\n                        { required: true, message: '请输入用户', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                    dataBaseName:[\n                        { required: true, message: '请输入数据库库名', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                    password:[\n                        { required: true, message: '请输入登录密码', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                    ip:[\n                        { required: true, message: '请输入主机地址', trigger: 'blur' },\n                        { pattern:/^(?:(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))$|^(?:[0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^(?:[0-9a-fA-F]{1,4}:){1,7}:$|^(?:[0-9a-fA-F]{1,4}:){1,6}(:[0-9a-fA-F]{1,4}){1,2}$|^(?:[0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,3}$|^(?:[0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,4}$|^(?:[0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,5}$|^(?:[0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,6}$|^[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,7}|:)$/, message: '只允许输入IP地址' }],\n                    port:[\n                        { required: true, message: '请输入主机端口', trigger: 'blur' },\n                        { pattern: /^((6[0-4]\\d{3}|65[0-4]\\d{2}|655[0-2]\\d|6553[0-5])|[0-5]?\\d{0,4})$/g, message: '只允许输入端口号' }],\n                    serverIp:[\n                        { required: true, message: '请输入主机地址', trigger: 'blur' },\n                        { pattern:/^(?:(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))$|^(?:[0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^(?:[0-9a-fA-F]{1,4}:){1,7}:$|^(?:[0-9a-fA-F]{1,4}:){1,6}(:[0-9a-fA-F]{1,4}){1,2}$|^(?:[0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,3}$|^(?:[0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,4}$|^(?:[0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,5}$|^(?:[0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,6}$|^[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,7}|:)$/, message: '只允许输入IP地址' }],\n                    clientIp:[\n                        { required: true, message: '请输入主机地址', trigger: 'blur' },\n                        { pattern:/^(?:(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))$|^(?:[0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^(?:[0-9a-fA-F]{1,4}:){1,7}:$|^(?:[0-9a-fA-F]{1,4}:){1,6}(:[0-9a-fA-F]{1,4}){1,2}$|^(?:[0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,3}$|^(?:[0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,4}$|^(?:[0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,5}$|^(?:[0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,6}$|^[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,7}|:)$/, message: '只允许输入IP地址' }],\n                    serverName:[\n                        { required: true, message: '请输入用户', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                    clientName:[\n                        { required: true, message: '请输入用户', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                    serverPassword:[\n                        { required: true, message: '请输入登录密码', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                    clientPassword:[\n                        { required: true, message: '请输入登录密码', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                    serverPath:[\n                        { required: true, message: '请输入服务端路径', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                    clientPath:[\n                        { required: true, message: '请输入客户端路径', trigger: 'blur' },\n                        { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }],\n                });\n        onMounted(() => {\n            getFormData();\n        });\n        watch(activeName, (newName) => {\n            localStorage.setItem(\"activeName\",newName)\n        });\n        watch(() => router.currentRoute.value.path,() => {\n            localStorage.removeItem(\"activeName\")\n        })\n        // Query the configuration information of zabbix and nagios\n        const getFormData = ()=>{ // eslint-disable-line no-unused-vars\n            proxy.$http.get('/data/zabbix/config').then(res=>{\n                    if(res.data.code == 200){\n                        if(res.data.data){\n                            zabbixRuleForm.connectName = res.data.data.connectName;\n                            zabbixRuleForm.port = res.data.data.port;\n                            zabbixRuleForm.ip = res.data.data.ip;\n                            zabbixRuleForm.userName = res.data.data.userName;\n                            zabbixRuleForm.dataBaseName = res.data.data.dataBaseName;\n                        }\n                    } else if(res.data.code == 400){\n                        return false;\n                    }\n                }).catch(()=>{\n                    ElMessage.warning(\"请求失败\")\n                })\n                proxy.$http.get('/data/nagios/config').then(res=>{\n                    if(res.data.code == 200){\n                        if(res.data.data){\n                            nagiosRuleForm.serverIp = res.data.data.serverIp;\n                            nagiosRuleForm.serverName = res.data.data.serverName;\n                            nagiosRuleForm.serverPath = res.data.data.serverPath;\n                            nagiosRuleForm.clientIp = res.data.data.clientIp;\n                            nagiosRuleForm.clientName = res.data.data.clientName;\n                            nagiosRuleForm.clientPath = res.data.data.clientPath;\n                        }\n                    } else if(res.data.code == 400){\n                        return false;\n                    }\n                }).catch(()=>{\n                    ElMessage.warning(\"请求失败\")\n                })\n        }\n        // Get address bar information\n        const getPath = ()=> {\n            zabbixRuleForm.containerIp = window.location.host.split(':')[0];\n            zabbixRuleForm.containerPort = window.location.host.split(':')[1];\n        }\n        // save configuration\n        const submitForm = (formName)=> {\n            proxy.$refs[formName].validate((valid) => {\n            if (valid) {\n                let formData;\n                if(activeName.value == 'first'){\n                   formData = ruleForm;\n                } else if(activeName.value == 'second'){\n                   getPath();\n                   formData = zabbixRuleForm;\n                } else {\n                   formData = nagiosRuleForm;\n                }\n                proxy.$http.post('/data/create/config', JSON.stringify(formData)).then(res=>{\n                    if(res.data.code == 200){\n                        getFormData();\n                        ElMessage.success(\"保存成功\")\n                    } else if(res.data.code == 400){\n                        ElMessage.warning(res.data.message);\n                    }\n                }).catch(()=>{\n                    ElMessage.warning(\"保存失败\")\n                })\n            } else {\n                return false;\n            }\n            });\n            proxy.$unFocus();\n        }\n        const resetForm = (formName)=> {\n            proxy.$unFocus();\n            proxy.$refs[formName].resetFields();\n        }\n</script>\n<style  scoped>\n    .el-form-item {\n        margin-bottom: 16px;\n    }\n</style>\n","import script from \"./configurationCenter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./configurationCenter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./configurationCenter.vue?vue&type=style&index=0&id=0767148c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\weiwangar\\\\Desktop\\\\opengauss1209\\\\opengauss1129\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0767148c\"]])\n\nexport default __exports__"],"names":["router","useRouter","proxy","getCurrentInstance","activeName","ref","localStorage","getItem","openForm","zabbixForm","nagiosForm","ruleForm","reactive","connectName","userName","password","port","ip","platform","zabbixRuleForm","containerIp","containerPort","dataBaseName","nagiosRuleForm","serverIp","serverName","serverPassword","serverPath","clientIp","clientName","clientPassword","clientPath","rules","required","message","trigger","pattern","min","max","onMounted","getFormData","watch","newName","setItem","currentRoute","value","path","removeItem","$http","get","then","res","data","code","catch","ElMessage","getPath","window","location","host","split","submitForm","formName","$refs","validate","valid","formData","post","JSON","stringify","$unFocus","resetForm","resetFields","__exports__"],"sourceRoot":""}