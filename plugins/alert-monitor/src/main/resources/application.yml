context:
  listener:
    classes: com.nctigba.alert.monitor.listener.PluginListener
spring:
  servlet:
    multipart:
      max-file-size: 20MB #The maximum file size is 20MB.
      max-request-size: 20MB #The total file size for a single request is limited to 20MB.
  profiles:
    active: '@profiles.active@'
  resources:
    static-locations: classpath:resources,file:D://static
  datasource:
    dynamic:
      strict: false #Strictly match the data source, default is false. When set to true and no specified data source is matched, an exception will be thrown. When set to false, the default data source will be used.
      druid:
        test-while-idle: false
        test-on-borrow: true
        validation-query: "select 1"
        validation-query-timeout: 10000
        connection-error-retry-attempts: 3
        break-after-acquire-failure: true
        time-between-connect-error-millis: 60000
        max-wait: 300000
        connection-properties:
          ApplicationName: DataKit Alert Monitor
        remove-abandoned: true
        remove-abandoned-timeout-millis: 300000
        log-abandoned: true
        max-active: 50
  jackson:
    time-zone: GMT+8
    date-format: yyyy-MM-dd HH:mm:ss
    serialization:
      indent_output: true
      fail_on_empty_beans: false
    deserialization:
      fail_on_unknown_properties: true
    parser:
      allow_unquoted_control_chars: true
      allow_single_quotes: true
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    cache: false


server.compression:
  enabled: true
  mime-types: application/javascript,text/css,application/json,application/xml,text/html,text/xml,text/plain
mybatis-plus:
  typeAliasesPackage: com.nctigba.alert.monitor.model.entity
  mapperLocations: classpath*:mapper/*.xml
  configuration:
    mapUnderscoreToCamelCase: true

alert:
  rule-file-prefix: rules/
  rule-file-suffix: .yml
  alertmanager:  #The complete path for Prometheus push is /plugins/alert-monitor/api/v1/alerts. /plugins/alert-monitor
    path-prefix: /plugins/alert-monitor
    api-version: v1
notify:
  weCom:
    accessTokenUrl: https://qyapi.weixin.qq.com/cgi-bin/gettoken
    sendMsgUrl: https://qyapi.weixin.qq.com/cgi-bin/message/send
  dingTalk:
    accessTokenUrl: https://oapi.dingtalk.com/gettoken
    sendMsgUrl: https://oapi.dingtalk.com/topapi/message/corpconversation/asyncsend_v2

